{"openapi":"3.1.0","info":{"title":"rusty-api","description":"","license":{"name":""},"version":"0.1.0"},"paths":{"/.well-known/health-check":{"get":{"summary":"Get health of the API.","operationId":"health_check","responses":{"200":{"description":"Success","content":{"text/plain":{"schema":{"type":"string"}}}}}}},"/v2/invite/new":{"post":{"tags":["invite"],"operationId":"new_invite","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InviteBody"}}},"required":true},"responses":{"200":{"description":"Success"},"400":{"description":"Invalid public key"}}}},"/v2/project/{project_id}":{"get":{"tags":["project"],"operationId":"get_project_info_v2","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectInfoV2"}}}}}},"put":{"tags":["project"],"operationId":"update","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProjectV2"}}},"required":true},"responses":{"200":{"description":"Success"}}},"post":{"tags":["project"],"operationId":"add_user","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddUserBody"}}},"required":true},"responses":{"200":{"description":"Success"},"400":{"description":"Invalid public key"},"401":{"description":"Unauthorized. User not in project"}}},"delete":{"tags":["project"],"operationId":"remove_users","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RemoveUserBody"}}},"required":true},"responses":{"200":{"description":"Success"},"400":{"description":"Invalid public key"},"401":{"description":"Unauthorized"}}}},"/v2/project/{project_id}/variables":{"get":{"tags":["project"],"operationId":"variables","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Success. Returns a list of variables for the project","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PartialKey"}}}}},"401":{"description":"Unauthorized. User not in project"}}}},"/v2/projects":{"get":{"tags":["projects"],"operationId":"list_projects_v2","responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ListProjectsV2"}}}}}}}},"/v2/projects/new":{"post":{"tags":["projects"],"operationId":"new_project_v2","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewProjectBody"}}},"required":true},"responses":{"200":{"description":"Success","content":{"text/plain":{"schema":{"type":"string"}}}}}}},"/v2/user/new":{"post":{"tags":["user"],"operationId":"new_user_v2","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewUserBody"}}},"required":true},"responses":{"200":{"description":"User ID","content":{"text/plain":{"schema":{"type":"string"}}}},"400":{"description":"Invalid public key"}}}},"/v2/user/{user_id}":{"get":{"tags":["user"],"operationId":"get_user_v2","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"User","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StrippedUser"}}}},"404":{"description":"User not found"}}}},"/v2/variables/set-many":{"post":{"tags":["variables"],"operationId":"set_many","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SetManyBody"}}},"required":true},"responses":{}}},"/v2/variables/update-many":{"put":{"tags":["variables"],"operationId":"update_many","responses":{}}},"/v2/variables/{variable_id}":{"get":{"tags":["variables"],"operationId":"get","parameters":[{"name":"variable_id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Variable"}}}},"404":{"description":"Variable not found"}}},"delete":{"tags":["variables"],"operationId":"delete","parameters":[{"name":"variable_id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{}}}},"components":{"schemas":{"AddUserBody":{"type":"object","required":["user_id"],"properties":{"user_id":{"type":"string"}}},"InviteBody":{"type":"object","required":["invite_code","project_id","author_signature","exp"],"properties":{"author_signature":{"type":"string"},"exp":{"type":"string","format":"date-time"},"invite_code":{"type":"string","format":"uuid"},"project_id":{"type":"string","format":"uuid"}}},"ListProjectsV2":{"type":"object","required":["project_id","project_name"],"properties":{"project_id":{"type":"string"},"project_name":{"type":"string"}}},"NewProjectBody":{"type":"object","required":["name"],"properties":{"name":{"type":"string"}}},"NewUserBody":{"type":"object","required":["username","public_key"],"properties":{"public_key":{"type":"string"},"username":{"type":"string"}}},"PartialKey":{"type":"object","required":["id","value","project_id","created_at"],"properties":{"created_at":{"type":"string","format":"date-time"},"id":{"type":"string"},"project_id":{"type":"string"},"value":{"type":"string"}}},"ProjectInfoV2":{"type":"object","required":["project_id","project_name","users"],"properties":{"project_id":{"type":"string"},"project_name":{"type":"string"},"users":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}},"RemoveUserBody":{"type":"object","required":["user_ids"],"properties":{"user_ids":{"type":"array","items":{"type":"string"}}}},"SetManyBody":{"type":"object","required":["project_id","variables"],"properties":{"project_id":{"type":"string","format":"uuid"},"variables":{"type":"array","items":{"$ref":"#/components/schemas/VariableInput"}}}},"StrippedUser":{"type":"object","required":["id","public_key"],"properties":{"id":{"type":"string"},"public_key":{"type":"string"}}},"UpdateProjectV2":{"type":"object","properties":{"project_name":{"type":["string","null"]}}},"User":{"type":"object","required":["id","username","created_at","public_key"],"properties":{"created_at":{"type":"string"},"id":{"type":"string"},"public_key":{"type":"string"},"username":{"type":"string"}}},"Variable":{"type":"object","required":["id","value","project_id"],"properties":{"id":{"type":"string","format":"uuid"},"project_id":{"type":"string","format":"uuid"},"value":{"type":"string"}}},"VariableInput":{"type":"object","required":["value"],"properties":{"tag":{"type":["string","null"]},"value":{"type":"string"}}}}},"tags":[{"name":"projects","description":"Project API endpoints (for projects under each user)"},{"name":"project","description":"Project API endpoints (for single project)"},{"name":"user","description":"User API endpoints (for single user)"}]}